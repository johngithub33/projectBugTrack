<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="adminStyle.css">
</head>
<body>

    <h1> Administrator Dashboard </h1>

    <h2> Reports </h2>
    
    <h2> Users </h2>

    <ul>
        <li>user 1</li>
        <li>user 2</li>
    </ul>

    <!-- for layout of this admint page, watch this: https://www.youtube.com/watch?v=vG824vBdYY8 -->
    <h2> Add/Remove User </h2>
    <h2> Manage Role Assignment </h2>
    <h2> My Tickets </h2>
    <h2> User Profile </h2>

    <br><br><br>

    <h2>search for user:</h2>
    <input type="text" id="userSearchInput">
    <button id="searchSubmit">Search</button>

    <h1 class='newAttachPoint'>user search info:</h1>

    <script>

        let inputText = document.querySelector('#userSearchInput');

        
        //button drive search, not live text as it's being typed
        let submitBtn = document.querySelector('#searchSubmit')
        submitBtn.addEventListener('click', () => {
            
            console.log('clicked')

            var url = "http://localhost:4000/livesearch/"+inputText.value;

            var con = new XMLHttpRequest();
            
            con.onreadystatechange = function() {
            if (con.readyState == XMLHttpRequest.DONE) {
                alert(con.responseText);
            }
}

            con.open('GET', url, true);
            con.send();

            const item = document.createElement("h1");
            // const textNode = document.createTextNode(result[0].username+result[0].password)
            const textNode = document.createTextNode("value here")
            item.appendChild(textNode);
            document.querySelector('.newAttachPoint').appendChild(item);

        })

        //get live input text as it's constantly changing
        inputText.addEventListener('input', () => {
            console.log(inputText.value)

            // //hit API with value of inputText.value, node.js then uses :id for that value
            // var url = "http://localhost:4000/livesearch/"+inputText.value;

            // var con = new XMLHttpRequest();
            // con.open('GET', url, true);
            // con.send();

        })


    </script>
    

</body>
</html>